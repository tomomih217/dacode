<% content_for(:title, t('.title')) %>
<div class='container'>
  <div class='row'>
    <div class='my-5'>
      <div class='col-lg-8 offset-lg-2'>
        <h3 class='text-center mb-3'><%= t('.title') %></h3>
        <p class='text-center'>
          ユーザーによって破壊されたクソコード一覧です。<br>
          「これはクソ！」と思ったものには花をクリックして評価しましょう。
        </p>
        <div class='kusocode-view-container'>
          <% @kusocodes.each do |kusocode| %>
            <div class='kusocode-container'>
              <div class='col-sm-10 offset-sm-1'>
                <div class='d-flex justify-content-between'>
                  <div><%= kusocode.user.username %></div>
                  <div><%= l kusocode.created_at, format: :long %></div>
                </div>
                <div><%= kusocode.description %></div>
                <div class='black-code-view p-3'><%= simple_format(h(kusocode.code), {}, sanitize: false, wrapper_tag: 'div') %></div>
                <div class='d-flex'>
                  <%= render 'flower', kusocode: kusocode %>
                  <span class='ms-1'><%= kusocode.flowers.count %></span>
                </div>
              </div>
            </div>
            <hr>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>